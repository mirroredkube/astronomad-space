<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Timepass Games â€¢ Astronomad</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Space+Grotesk:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root { --bg: #050816; }
    html, body { height: 100%; margin: 0; }
    body {
      background: radial-gradient(1200px 600px at 70% -10%, rgba(45, 212, 191, .08), transparent),
                  radial-gradient(800px 400px at 20% 10%, rgba(56, 189, 248, .10), transparent),
                  radial-gradient(1000px 600px at 50% 120%, rgba(94, 234, 212, .06), transparent),
                  var(--bg);
      color: #E6ECF8;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
    }
    .stars, .twinkles { position: fixed; inset: 0; pointer-events: none; z-index: -1; }
    .stars {
      background: transparent url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="240" height="240" viewBox="0 0 240 240"><g fill="white" fill-opacity="0.6"><circle cx="10" cy="10" r="1"/><circle cx="60" cy="90" r="1"/><circle cx="130" cy="40" r="1"/><circle cx="200" cy="120" r="1"/><circle cx="220" cy="20" r="1"/><circle cx="30" cy="200" r="1"/><circle cx="170" cy="210" r="1"/></g></svg>') repeat;
      animation: drift 120s linear infinite; opacity: .55;
    }
    .twinkles {
      background: transparent url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="240" height="240" viewBox="0 0 240 240"><g fill="white" fill-opacity="0.9"><circle cx="20" cy="130" r="0.7"/><circle cx="80" cy="30" r="0.7"/><circle cx="140" cy="180" r="0.7"/><circle cx="210" cy="60" r="0.7"/></g></svg>') repeat;
      animation: drift 180s linear infinite reverse; opacity: .45;
    }
    @keyframes drift { from { background-position: 0 0; } to { background-position: 10000px 10000px; } }
    .brand { font-family: "Space Grotesk", Inter, sans-serif; }
    .glass { backdrop-filter: blur(10px); background: linear-gradient(180deg, rgba(17, 24, 39, .7), rgba(17, 24, 39, .35)); border: 1px solid rgba(148, 163, 184, .15); }
    iframe {
      width: 100%;
      height: 75vh;
      border: none;
      border-radius: 20px;
      box-shadow: 0 0 40px rgba(34, 211, 238, 0.3);
      background: #000;
    }
    .game-card { transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease; }
    .game-card:hover { transform: translateY(-2px); box-shadow: 0 0 30px rgba(34, 211, 238, .25); border-color: rgba(125, 211, 252, .35); }
  </style>
</head>
<body class="antialiased selection:bg-cyan-300/20 selection:text-cyan-100">
  <div class="stars"></div>
  <div class="twinkles"></div>

  <!-- Header -->
  <header class="max-w-7xl mx-auto px-6 sm:px-8 py-6 flex items-center justify-between">
    <a href="index.html" class="flex items-center gap-4 group">
      <div class="relative w-12 h-12 rounded-2xl bg-gradient-to-br from-cyan-300/20 to-cyan-300/10 grid place-items-center">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
          <defs>
            <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" stop-color="#7dd3fc"/>
              <stop offset="100%" stop-color="#22d3ee"/>
            </linearGradient>
          </defs>
          <path d="M12 2l2.39 4.84L20 8l-4 3.9L17 18l-5-2.6L7 18l1-6.1L4 8l5.61-1.16L12 2z"
                fill="url(#logoGradient)" stroke="#22d3ee" stroke-width="1.2"/>
        </svg>
      </div>
      <span class="brand text-xl font-bold tracking-tight text-white group-hover:text-cyan-200">Astronomad</span>
    </a>
    <nav class="hidden sm:flex items-center gap-6 text-sm text-slate-300">
      <a class="hover:text-white" href="index.html">Home</a>
      <a class="hover:text-white" href="#games">Games</a>
    </nav>
  </header>

  <!-- Main -->
  <main class="max-w-7xl mx-auto px-6 sm:px-8">
    <h1 class="text-3xl sm:text-4xl font-bold mb-2 brand">ðŸŽ® Timepass Games</h1>

    <!-- Selected Game Panel -->
    <section id="player" class="mt-6 hidden">
      <div class="flex items-center justify-between mb-3">
        <h2 id="gameTitle" class="text-xl sm:text-2xl font-semibold text-cyan-200">Neon Tunnel</h2>
        <a id="openNewTab" href="#" target="_blank" rel="noopener" class="text-sm text-slate-300 hover:text-white underline">Open in new tab â†—</a>
      </div>
      <div class="rounded-3xl overflow-hidden border border-white/10">
        <iframe id="gameFrame" src=""></iframe>
      </div>
      <p class="mt-4 text-slate-400 text-sm" id="gameHint">Tip: Tap / Click / Space to play.</p>
    </section>

    <!-- Game Library -->
    <section id="games" class="mt-12">
      <h3 class="brand text-2xl font-extrabold mb-4">Library</h3>
      <div id="gameGrid" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="pb-10 mt-20">
    <div class="max-w-7xl mx-auto px-6 sm:px-8">
      <div class="border-t border-white/10 pt-6 text-sm text-slate-400 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3">
        <p>Â© <span id="y"></span> Astronomad â€¢ Ideas at the edges</p>
      </div>
    </div>
  </footer>

  <script>
    document.getElementById('y').textContent = new Date().getFullYear();

    // 1) Declare your games here. Add a new object per game.
    const GAMES = [
      {
        id: "neon_tunnel",
        title: "Neon Tunnel",
        src: "neon_tunnel.html",     // your existing file
        blurb: "One-tap arcade: flap through glowing gaps in a neon tunnel.",
        hint: "Tap / Click / Space to flap through the neon tunnel ðŸš€"
      },
      // EXAMPLE placeholder for future additions:
      // {
      //   id: "astro_runner",
      //   title: "Astro Runner",
      //   src: "astro_runner.html",
      //   blurb: "Dash, dodge, and collect stardust. Simple, fast, fun.",
      //   hint: "Arrow keys or WASD to move."
      // },
    ];

    // 2) Render game cards
    const grid = document.getElementById('gameGrid');
    grid.innerHTML = GAMES.map(g => `
      <button class="game-card text-left p-5 rounded-2xl glass border border-white/10 w-full"
              data-game="${g.id}">
        <div class="text-cyan-200 font-semibold text-lg">${g.title}</div>
        <p class="mt-2 text-slate-300 text-sm">${g.blurb}</p>
        <div class="mt-4 inline-flex items-center gap-2 text-sm text-slate-300">
          <span>Play</span>
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" class="opacity-80">
            <path d="M5 12h14M12 5l7 7-7 7" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
      </button>
    `).join('');

    // 3) Helpers
    const byId = id => GAMES.find(g => g.id === id);
    const player = document.getElementById('player');
    const frame = document.getElementById('gameFrame');
    const titleEl = document.getElementById('gameTitle');
    const hintEl = document.getElementById('gameHint');
    const openNewTab = document.getElementById('openNewTab');

    function playGame(id, pushHash=true) {
      const g = byId(id);
      if (!g) return;

      titleEl.textContent = g.title;
      hintEl.textContent = g.hint || "";
      frame.src = g.src;
      openNewTab.href = g.src;

      player.classList.remove('hidden');
      if (pushHash) location.hash = `game=${encodeURIComponent(id)}`;

      // Smooth scroll to player on mobile
      setTimeout(() => player.scrollIntoView({ behavior: 'smooth', block: 'start' }), 0);
    }

    // 4) Click handling on cards
    grid.addEventListener('click', (e) => {
      const btn = e.target.closest('[data-game]');
      if (!btn) return;
      playGame(btn.dataset.game);
    });

    // 5) Deep-link support: timepass.html#game=neon_tunnel
    function readHash() {
      const m = location.hash.match(/game=([^&]+)/);
      if (m) {
        const id = decodeURIComponent(m[1]);
        if (byId(id)) playGame(id, false);
      }
    }
    window.addEventListener('hashchange', readHash);
    readHash(); // on load

    // 6) Default: auto-open Neon Tunnel for first-time visitors (optional)
    if (!location.hash) {
      playGame("neon_tunnel", false);
    }
  </script>
</body>
</html>